!function(e){function a(m){if(t[m])return t[m].exports;var s=t[m]={i:m,l:!1,exports:{}};return e[m].call(s.exports,s,s.exports,a),s.l=!0,s.exports}var t={};a.m=e,a.c=t,a.d=function(e,t,m){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:m})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="",a(a.s=0)}([function(e,a,t){"use strict";function m(e,a){return"undefined"!==typeof e.attributes&&"core/image"===a&&(e.attributes=Object.assign(e.attributes,{imageMask:{type:"text"},imageMaskURL:{type:"string"},imageMaskID:{type:"number"},imageMaskSVG:{type:"string"},imageMaskSVGID:{type:"string"},imageMaskFit:{type:"string",default:"contain"}})),e}function s(e,a,t){var m=t.imageMask,s=t.imageMaskID,i=t.imageMaskSVGID,n=t.imageMaskFit;if("core/image"===a.name){var l=void 0!=e.className?e.className:"";void 0!=m&&""!==m&&(l+=" has-image-mask has-"+m+"-image-mask","custom"===m?l+=" image-mask-id-"+s:"custom-svg"===m&&(l+=" image-mask-svg-id-"+i),void 0!=n&&""!==n&&(l+=" has-image-mask-"+n+"-fit")),e.className=l}return e}Object.defineProperty(a,"__esModule",{value:!0});var i=(t(1),Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var m in t)Object.prototype.hasOwnProperty.call(t,m)&&(e[m]=t[m])}return e}),__=wp.i18n.__;wp.hooks.addFilter("blocks.registerBlockType","wpim/image-mask-attributes",m);var n=wp.compose.compose(wp.compose.createHigherOrderComponent(function(e){return function(a){if("core/image"!==a.name)return wp.element.createElement(e,a);var t=wp.element.Fragment,m=wp.components,s=m.PanelBody,i=m.PanelRow,n=m.SelectControl,l=m.CustomSelectControl,r=m.Button,o=m.TextareaControl,c=wp.blockEditor,g=c.InspectorControls,k=c.MediaUpload,u=c.MediaUploadCheck,p=a.attributes,d=a.isSelected,w=a.setAttributes,b=["image"];void 0!=p.imageMask&&("custom"===p.imageMask||"custom-svg"===p.imageMask?window._wpLoadBlockEditor.then(function(){var e=document.getElementById("block-"+a.clientId);if(e){e.classList.add("has-image-mask"),e.classList.add("has-"+p.imageMask+"-image-mask"),p.imageMaskFit&&e.classList.add("has-image-mask-"+p.imageMaskFit+"-fit");var t=e.querySelector("img");if(t&&p.imageMaskURL)t.style.maskImage="url("+p.imageMaskURL+")",t.style.WebkitMaskImage="url("+p.imageMaskURL+")";else if(t&&p.imageMaskSVG){var m="data:image/svg+xml, "+encodeURIComponent(p.imageMaskSVG.replace(/(\r\n|\r|\n)/,""));t.style.maskImage="url('"+m+"')",t.style.WebkitMaskImage="url('"+m+"')"}else t.style.removeProperty("-webkit-mask-image"),t.style.removeProperty("mask-image")}}):window._wpLoadBlockEditor.then(function(){var e=document.getElementById("block-"+a.clientId);if(e){e.classList.add("has-image-mask"),e.classList.add("has-"+p.imageMask+"-image-mask"),p.imageMaskFit&&e.classList.add("has-image-mask-"+p.imageMaskFit+"-fit");var t=e.querySelector("img");t&&(t.style.removeProperty("-webkit-mask-image"),t.style.removeProperty("mask-image"))}}));var v={backgroundPosition:"left 8px center",backgroundRepeat:"no-repeat",backgroundSize:"25px",paddingLeft:"38px"},y=[{name:__("None","wp-image-mask"),key:""},{name:__("Triangle","wp-image-mask"),key:"triangle",style:Object.assign({},v,{backgroundImage:"url("+wpimGlobal.pluginDirUrl+"/src/img/triangle.svg)"})},{name:__("Diamond","wp-image-mask"),key:"diamond",style:Object.assign({},v,{backgroundImage:"url("+wpimGlobal.pluginDirUrl+"/src/img/diamond.svg)"})},{name:__("Brush","wp-image-mask"),key:"brush-1",style:Object.assign({},v,{backgroundImage:"url("+wpimGlobal.pluginDirUrl+"/src/img/brush-1.svg)"})},{name:__("Star","wp-image-mask"),key:"star",style:Object.assign({},v,{backgroundImage:"url("+wpimGlobal.pluginDirUrl+"/src/img/star.svg)"})},{name:__("Custom image","wp-image-mask"),key:"custom",style:Object.assign({},v,{backgroundImage:p.imageMaskURL?"url("+p.imageMaskURL+")":"url("+wpimGlobal.pluginDirUrl+"/src/img/custom.svg)"})},{name:__("SVG code","wp-image-mask"),key:"custom-svg",style:Object.assign({},v,{backgroundImage:"url("+wpimGlobal.pluginDirUrl+"/src/img/custom-svg.svg)"})}];return wp.element.createElement(t,null,wp.element.createElement(e,a),d&&"core/image"==a.name&&wp.element.createElement(g,null,wp.element.createElement(s,{title:__("Image mask","wp-image-mask"),initialOpen:!0},wp.element.createElement(i,null,wp.element.createElement(l,{label:__("Select Mask Type","wp-image-mask"),value:y.find(function(e){return e.key===p.imageMask}),options:y,onChange:function(e){return w({imageMask:e.selectedItem.key,imageMaskURL:"custom"!==e.selectedItem.key?"":p.imageMaskURL,imageMaskID:"custom"!==e.selectedItem.key?"":p.imageMaskID,imageMaskSVG:"custom-svg"!==e.selectedItem.key?"":p.imageMaskSVG,imageMaskSVGID:"custom-svg"!==e.selectedItem.key?"":p.imageMaskSVGID})}})),"custom"===p.imageMask&&wp.element.createElement(i,null,wp.element.createElement(u,null,wp.element.createElement(k,{onSelect:function(e){w({imageMaskURL:e.url,imageMaskID:e.id})},allowedTypes:b,value:p.imageMaskID,render:function(e){var a=e.open;return wp.element.createElement(r,{onClick:a},__("Choose Mask Image","wp-image-mask"))}})),p.imageMaskURL&&p.imageMaskID&&wp.element.createElement("img",{src:p.imageMaskURL,alt:"custom mask preview",width:"50",height:"auto"})),"custom-svg"===p.imageMask&&wp.element.createElement(i,null,wp.element.createElement(o,{label:__("Paste SVG code here","wp-image-mask"),value:p.imageMaskSVG,onChange:function(e){return w({imageMaskSVG:e,imageMaskSVGID:a.clientId})}})),wp.element.createElement(i,null,wp.element.createElement(n,{label:__("Mask Fit","wp-image-mask"),value:p.imageMaskFit,options:[{label:__("Auto","wp-image-mask"),value:"auto"},{label:__("Contain","wp-image-mask"),value:"contain"},{label:__("Cover","wp-image-mask"),value:"cover"}],onChange:function(e){return w({imageMaskFit:e})}})))))}},"imageInspectorControls"));wp.hooks.addFilter("editor.BlockEdit","wpim/image-inspector-control",n),wp.hooks.addFilter("blocks.getSaveContent.extraProps","wpim/image-apply-class",s);var l=wp.compose.createHigherOrderComponent(function(e){return function(a){var t=a.block,m=a.attributes,s=m.imageMask,n=m.imageMaskFit;if("core/image"!==t.name)return wp.element.createElement(e,a);var l=void 0!=m.className?m.className:"",r=Object.assign({},a.style);return void 0!=s&&(l+="custom"===s||"custom-svg"===s?" has-image-mask has-custom-image-mask":" has-image-mask has-"+s+"-image-mask",void 0!=n&&""!==n&&(l+=" has-image-mask-"+n+"-fit")),wp.element.createElement(e,i({},a,{wrapperProps:{style:r,className:l}}))}},"withInlineStyleImage");wp.hooks.addFilter("editor.BlockListBlock","wpim/with-inline-style-image",l)},function(e,a,t){"use strict";var m=t(2),s=(t.n(m),t(3)),__=(t.n(s),wp.i18n.__);(0,wp.blocks.registerBlockType)("cgb/block-wp-image-mask",{title:__("wp-image-mask - CGB Block"),icon:"shield",category:"common",keywords:[__("wp-image-mask \u2014 CGB Block"),__("CGB Example"),__("create-guten-block")],edit:function(e){return wp.element.createElement("div",{className:e.className},wp.element.createElement("p",null,"\u2014 Hello from the backend."),wp.element.createElement("p",null,"CGB BLOCK: ",wp.element.createElement("code",null,"wp-image-mask")," is a new Gutenberg block"),wp.element.createElement("p",null,"It was created via"," ",wp.element.createElement("code",null,wp.element.createElement("a",{href:"https://github.com/ahmadawais/create-guten-block"},"create-guten-block")),"."))},save:function(e){return wp.element.createElement("div",{className:e.className},wp.element.createElement("p",null,"\u2014 Hello from the frontend."),wp.element.createElement("p",null,"CGB BLOCK: ",wp.element.createElement("code",null,"wp-image-mask")," is a new Gutenberg block."),wp.element.createElement("p",null,"It was created via"," ",wp.element.createElement("code",null,wp.element.createElement("a",{href:"https://github.com/ahmadawais/create-guten-block"},"create-guten-block")),"."))}})},function(e,a){},function(e,a){}]);